<div class="page-content row">
    <div class="col-xs-9 content">
        <div class="form-group row">
            <label class="col-xs-8 control-label" data-i18n="lParentControl"></label>
            <div class="col-xs-4 text-right">
                <div class="switch">
                    <input class="switch-checkbox hidden" id="enableParentControl" type="checkbox">
                    <label class="switch-label" for="enableParentControl">
                        <span class="switch-inner"></span>
                    </label>
                </div>
            </div>
        </div>
        <div id="childWifi" class="off">
            <div class="form-group row">
                <label class="col-xs-7 control-label" data-i18n="lblSsidname"></label>
                <div class="col-xs-5">
                    <input type="text" class="form-control" id="ssid">
                </div>
            </div>
            <div class="form-group row">
                <label class="col-xs-7 control-label" data-i18n="lblAuthModeName"></label>
                <div class="col-xs-5">
                    <select class="form-control" id="authmode">
                        <option value="0">OPEN</option>
                        <option value="1" data-i18n="wir_WPA2_PSK"></option>
                        <option value="2">WPA3-SAE/WPA2-PSK</option>
                    </select>
                </div>
            </div>
            <div class="form-group row include-pwd">
                <label class="col-xs-7 control-label" data-i18n="lblPassWord"></label>
                <div class="col-xs-5">
                    <input type="password" class="form-control" id="password">
                    <img src="../img/eyes_off.png" class="eyes">
                </div>
                <div class="col-xs-5 col-xs-offset-7 pwd-strength">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <h5 class="form-group depart-line row">
                <span class="col-xs-8" data-i18n="lblScheduleRule1"></span>
                <div class="col-xs-4 text-right">
                    <div class="switch">
                        <input class="switch-checkbox hidden" id="enableRule1" type="checkbox">
                        <label class="switch-label" for="enableRule1">
                            <span class="switch-inner"></span>
                        </label>
                    </div>
                </div>
            </h5>
            <table id="ruleInfo1" class="table">
                <thead>
                    <tr>
                        <th></th>
                        <th data-i18n="lblScheduleStarttime"></th>
                        <th data-i18n="lblScheduleEndtime"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-i18n="lblScheduleCustomize"></td>
                        <td colspan="2">
                            <div class="select dropdown">
                                <input type="hidden" id="startHour1" value="0">
                                <div class="dropdown-toggle text-center" id="startHourSelect1" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="startHourSelect1">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                </ul>
                            </div>
                            <div class="time">:</div>
                            <div class="select dropdown">
                                <input type="hidden" id="startMin1" value="0">
                                <div class="dropdown-toggle text-center" id="startMinSelect1" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="startMinSelect1">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                    <li data-value="24">24</li>
                                    <li data-value="25">25</li>
                                    <li data-value="26">26</li>
                                    <li data-value="27">27</li>
                                    <li data-value="28">28</li>
                                    <li data-value="29">29</li>
                                    <li data-value="30">30</li>
                                    <li data-value="31">31</li>
                                    <li data-value="32">32</li>
                                    <li data-value="33">33</li>
                                    <li data-value="34">34</li>
                                    <li data-value="35">35</li>
                                    <li data-value="36">36</li>
                                    <li data-value="37">37</li>
                                    <li data-value="38">38</li>
                                    <li data-value="39">39</li>
                                    <li data-value="40">40</li>
                                    <li data-value="41">41</li>
                                    <li data-value="42">42</li>
                                    <li data-value="43">43</li>
                                    <li data-value="44">44</li>
                                    <li data-value="45">45</li>
                                    <li data-value="46">46</li>
                                    <li data-value="47">47</li>
                                    <li data-value="48">48</li>
                                    <li data-value="49">49</li>
                                    <li data-value="50">50</li>
                                    <li data-value="51">51</li>
                                    <li data-value="52">52</li>
                                    <li data-value="53">53</li>
                                    <li data-value="54">54</li>
                                    <li data-value="55">55</li>
                                    <li data-value="56">56</li>
                                    <li data-value="57">57</li>
                                    <li data-value="58">58</li>
                                    <li data-value="59">59</li>
                                </ul>
                            </div>
                            <div class="time">~</div>
                            <div class="select dropdown">
                                <input type="hidden" id="endHour1" value="0">
                                <div class="dropdown-toggle text-center" id="endHourSelect1" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="endHourSelect1">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                </ul>
                            </div>
                            <div class="time">:</div>
                            <div class="select dropdown">
                                <input type="hidden" id="endMin1" value="0">
                                <div class="dropdown-toggle text-center" id="endMinSelect1" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="endMinSelect1">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                    <li data-value="24">24</li>
                                    <li data-value="25">25</li>
                                    <li data-value="26">26</li>
                                    <li data-value="27">27</li>
                                    <li data-value="28">28</li>
                                    <li data-value="29">29</li>
                                    <li data-value="30">30</li>
                                    <li data-value="31">31</li>
                                    <li data-value="32">32</li>
                                    <li data-value="33">33</li>
                                    <li data-value="34">34</li>
                                    <li data-value="35">35</li>
                                    <li data-value="36">36</li>
                                    <li data-value="37">37</li>
                                    <li data-value="38">38</li>
                                    <li data-value="39">39</li>
                                    <li data-value="40">40</li>
                                    <li data-value="41">41</li>
                                    <li data-value="42">42</li>
                                    <li data-value="43">43</li>
                                    <li data-value="44">44</li>
                                    <li data-value="45">45</li>
                                    <li data-value="46">46</li>
                                    <li data-value="47">47</li>
                                    <li data-value="48">48</li>
                                    <li data-value="49">49</li>
                                    <li data-value="50">50</li>
                                    <li data-value="51">51</li>
                                    <li data-value="52">52</li>
                                    <li data-value="53">53</li>
                                    <li data-value="54">54</li>
                                    <li data-value="55">55</li>
                                    <li data-value="56">56</li>
                                    <li data-value="57">57</li>
                                    <li data-value="58">58</li>
                                    <li data-value="59">59</li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td data-i18n="lblScheduleDate"></td>
                        <td colspan="2">
                            <button id="week10" class="selectDate" data-i18n="lblScheduleSun"></button>
                            <button id="week11" class="selectDate" data-i18n="lblScheduleMon"></button>
                            <button id="week12" class="selectDate" data-i18n="lblScheduleTue"></button>
                            <button id="week13" class="selectDate" data-i18n="lblScheduleWed"></button>
                            <button id="week14" class="selectDate" data-i18n="lblScheduleThur"></button>
                            <button id="week15" class="selectDate" data-i18n="lblScheduleFri"></button>
                            <button id="week16" class="selectDate" data-i18n="lblScheduleSat"></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h5 class="form-group depart-line row">
                <span class="col-xs-8" data-i18n="lblScheduleRule2"></span>
                <div class="col-xs-4 text-right">
                    <div class="switch">
                        <input class="switch-checkbox hidden" id="enableRule2" type="checkbox">
                        <label class="switch-label" for="enableRule2">
                            <span class="switch-inner"></span>
                        </label>
                    </div>
                </div>
            </h5>
            <table id="ruleInfo2" class="table">
                <thead>
                    <tr>
                        <th></th>
                        <th data-i18n="lblScheduleStarttime"></th>
                        <th data-i18n="lblScheduleEndtime"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-i18n="lblScheduleCustomize"></td>
                        <td colspan="2">
                            <div class="select dropdown">
                                <input type="hidden" id="startHour2" value="0">
                                <div class="dropdown-toggle text-center" id="startHourSelect2" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="startHourSelect2">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                </ul>
                            </div>
                            <div class="time">:</div>
                            <div class="select dropdown">
                                <input type="hidden" id="startMin2" value="0">
                                <div class="dropdown-toggle text-center" id="startMinSelect2" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="startMinSelect2">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                    <li data-value="24">24</li>
                                    <li data-value="25">25</li>
                                    <li data-value="26">26</li>
                                    <li data-value="27">27</li>
                                    <li data-value="28">28</li>
                                    <li data-value="29">29</li>
                                    <li data-value="30">30</li>
                                    <li data-value="31">31</li>
                                    <li data-value="32">32</li>
                                    <li data-value="33">33</li>
                                    <li data-value="34">34</li>
                                    <li data-value="35">35</li>
                                    <li data-value="36">36</li>
                                    <li data-value="37">37</li>
                                    <li data-value="38">38</li>
                                    <li data-value="39">39</li>
                                    <li data-value="40">40</li>
                                    <li data-value="41">41</li>
                                    <li data-value="42">42</li>
                                    <li data-value="43">43</li>
                                    <li data-value="44">44</li>
                                    <li data-value="45">45</li>
                                    <li data-value="46">46</li>
                                    <li data-value="47">47</li>
                                    <li data-value="48">48</li>
                                    <li data-value="49">49</li>
                                    <li data-value="50">50</li>
                                    <li data-value="51">51</li>
                                    <li data-value="52">52</li>
                                    <li data-value="53">53</li>
                                    <li data-value="54">54</li>
                                    <li data-value="55">55</li>
                                    <li data-value="56">56</li>
                                    <li data-value="57">57</li>
                                    <li data-value="58">58</li>
                                    <li data-value="59">59</li>
                                </ul>
                            </div>
                            <div class="time">~</div>
                            <div class="select dropdown">
                                <input type="hidden" id="endHour2" value="0">
                                <div class="dropdown-toggle text-center" id="endHourSelect2" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="endHourSelect2">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                </ul>
                            </div>
                            <div class="time">:</div>
                            <div class="select dropdown">
                                <input type="hidden" id="endMin2" value="0">
                                <div class="dropdown-toggle text-center" id="endMinSelect2" data-toggle="dropdown">00</div>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="endMinSelect2">
                                    <li data-value="0">00</li>
                                    <li data-value="1">01</li>
                                    <li data-value="2">02</li>
                                    <li data-value="3">03</li>
                                    <li data-value="4">04</li>
                                    <li data-value="5">05</li>
                                    <li data-value="6">06</li>
                                    <li data-value="7">07</li>
                                    <li data-value="8">08</li>
                                    <li data-value="9">09</li>
                                    <li data-value="10">10</li>
                                    <li data-value="11">11</li>
                                    <li data-value="12">12</li>
                                    <li data-value="13">13</li>
                                    <li data-value="14">14</li>
                                    <li data-value="15">15</li>
                                    <li data-value="16">16</li>
                                    <li data-value="17">17</li>
                                    <li data-value="18">18</li>
                                    <li data-value="19">19</li>
                                    <li data-value="20">20</li>
                                    <li data-value="21">21</li>
                                    <li data-value="22">22</li>
                                    <li data-value="23">23</li>
                                    <li data-value="24">24</li>
                                    <li data-value="25">25</li>
                                    <li data-value="26">26</li>
                                    <li data-value="27">27</li>
                                    <li data-value="28">28</li>
                                    <li data-value="29">29</li>
                                    <li data-value="30">30</li>
                                    <li data-value="31">31</li>
                                    <li data-value="32">32</li>
                                    <li data-value="33">33</li>
                                    <li data-value="34">34</li>
                                    <li data-value="35">35</li>
                                    <li data-value="36">36</li>
                                    <li data-value="37">37</li>
                                    <li data-value="38">38</li>
                                    <li data-value="39">39</li>
                                    <li data-value="40">40</li>
                                    <li data-value="41">41</li>
                                    <li data-value="42">42</li>
                                    <li data-value="43">43</li>
                                    <li data-value="44">44</li>
                                    <li data-value="45">45</li>
                                    <li data-value="46">46</li>
                                    <li data-value="47">47</li>
                                    <li data-value="48">48</li>
                                    <li data-value="49">49</li>
                                    <li data-value="50">50</li>
                                    <li data-value="51">51</li>
                                    <li data-value="52">52</li>
                                    <li data-value="53">53</li>
                                    <li data-value="54">54</li>
                                    <li data-value="55">55</li>
                                    <li data-value="56">56</li>
                                    <li data-value="57">57</li>
                                    <li data-value="58">58</li>
                                    <li data-value="59">59</li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td data-i18n="lblScheduleDate"></td>
                        <td colspan="2">
                            <button id="week20" class="selectDate" data-i18n="lblScheduleSun"></button>
                            <button id="week21" class="selectDate" data-i18n="lblScheduleMon"></button>
                            <button id="week22" class="selectDate" data-i18n="lblScheduleTue"></button>
                            <button id="week23" class="selectDate" data-i18n="lblScheduleWed"></button>
                            <button id="week24" class="selectDate" data-i18n="lblScheduleThur"></button>
                            <button id="week25" class="selectDate" data-i18n="lblScheduleFri"></button>
                            <button id="week26" class="selectDate" data-i18n="lblScheduleSat"></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            <div class="col-xs-4 col-xs-offset-4">
                <button class="btn btn-primary theme-bg-color" id="setChildWifi" data-i18n="btnSaveName"></button>
            </div>
        </div>
    </div>
    <div class="col-xs-3 help"></div>
</div>

<script>
	try{
		$;
	}catch(e){
		window.sessionStorage.setItem("page", "/setting/wifi_schedule.html");
		window.location.replace("./index.html");
	}

    $(document).ready(function(){
        var old_advSetInfo_child = [];
        getChildWifi();

        $("[id^=enable]").on("change", function(){
            var target = $(this).parents(".form-group").next();
            $(this).is(":checked") ? target.show() : target.hide();
        });
        $("#authmode").on("change", function(){
            var target = $(this).parents(".form-group").next();
            $(this).val() == 0 ? target.hide() : target.show();
        });
        $("#password").on("keyup", function(){
            checkPasswdStrength($(this).val(), $(this).parent().siblings(".pwd-strength"), 8);
        });
        $(".selectDate").on("click", function(){
            $(this).hasClass("selected") ? $(this).removeClass("selected") : $(this).addClass("selected");
        });
        $("#setChildWifi").on("click",function(){
            var childEnable = $("#enableParentControl").val();
            var ssid = $("#ssid").val()
            var authmode = $("#authmode").val();
            var password = $("#password").val();
            var Rule1_en = $("#enableRule1").val();
            var Rule2_en = $("#enableRule2").val();
            var sch_rule = 1;
            var rules = [
                {"rule_id": 1, "enable": 0, "week": "0000000", "sh": 0, "sm": 0, "eh": 0, "em": 0},
                {"rule_id": 2, "enable": 0, "week": "0000000", "sh": 0, "sm": 0, "eh": 0, "em": 0}
            ];

            if (childEnable == 1) {
                if (!SsidLenCheck(ssid, 31)) {
                    getMsg($.t("msgWifiSsidText2"), 1, "#ssid");
                    return false;
                } else if (!checkStr(ssid)) {
                    getMsg($.t("msgWifiSsidText1"), 1, "#ssid");
                    return false;
                }

                if (authmode != 0) {
                    if (password == "") {
                        getMsg($.t("msgLoginPasswordText4"), 1, "#password");
                        return false;
                    } else if (password.length > 63 || password.length < 8) {
                        getMsg($.t("msgWifiPasswordText2"), 1, "#password");
                        return false;
                    } else if (!checkSpecialCharacter(password)) {
                        getMsg($.t("msgLoginPasswordText8"), 1, "#password");
                        return false;
                    }
                }
                var rule_id = 0;
                if (Rule1_en == 1 && Rule2_en == 1) {   //2 rules
                    sch_rule = 2;
                } else if (Rule1_en == 1 && Rule2_en == 0) {    //rule1
                    rule_id = 0;
                } else if (Rule1_en == 0 && Rule2_en == 1) {    //rule2
                    rule_id = 1;
                } else {    //0 rule
                    sch_rule = 0;
                    getMsg($.t("msgAlert1"));
                    return false;
                }

                for (var i = 0; i < sch_rule; i++) {
                    if (Rule1_en == 1 && Rule2_en == 1) {
                        rule_id = i;
                    }
                    rules[rule_id].enable = 1;
                    rules[rule_id].sh = $("#startHour"+(rule_id+1)).val();
                    rules[rule_id].sm = $("#startMin"+(rule_id+1)).val();
                    rules[rule_id].eh = $("#endHour"+(rule_id+1)).val();
                    rules[rule_id].em = $("#endMin"+(rule_id+1)).val();
                    rules[rule_id].week = "";
                    for (var j = 0; j <= 6; j++) {
                        rules[rule_id].week += $("#week"+(rule_id+1)+j).hasClass("selected") ? "1" : "0";
                    }

                    if (parseInt(rules[rule_id].sh) == parseInt(rules[rule_id].eh)
                        && parseInt(rules[rule_id].sm) == parseInt(rules[rule_id].em)) {
                        getMsg($.t("lblScheduleText"));
                        return false;
                    } else if (parseInt(rules[rule_id].sh) > parseInt(rules[rule_id].eh)) {
                        getMsg($.t("lblScheduleText1"));
                        return false;
                    } else if ((parseInt(rules[rule_id].sh) == parseInt(rules[rule_id].eh)) && (parseInt(rules[rule_id].sm) > parseInt(rules[rule_id].em))) {
                        getMsg($.t("lblScheduleText1"));
                        return false;
                    }
                    if (rules[rule_id].week == "0000000") {
                        getMsg($.t("lblScheduleText2"));
                        return false;
                    }
                }
            }
            if (childEnable == old_advSetInfo_child[0] && ssid == old_advSetInfo_child[1]
                && authmode == old_advSetInfo_child[2] && password == old_advSetInfo_child[3]) {
                startLoading(4000, $.t("btnSaveName"));
            } else {
                setProgressBar(500, $.t("msgWaiting"), $.t("msgRefresh"));
            }
        });

        function getChildWifi() {
            ajax({
                url: "wifi.json",
                success: function (data) {
                    if (data.error == 0) {
                        var sch = data.schedule;
                        old_advSetInfo_child[0] = sch.enable;
                        old_advSetInfo_child[1] = sch.SSID;
                        old_advSetInfo_child[2] = sch.security;
                        old_advSetInfo_child[3] = sch.passwd;

                        $("#ssid").val(sch.enable == 0 && (sch.SSID == "" || sch.SSID == "WAVLINK" || sch.SSID == "MeshGo")
                                       ? "Parental-Wi-Fi" : sch.SSID);
                        $("#authmode").val(sch.passwd == "" ? 0 : sch.security).change();
                        $("#password").val(sch.passwd).keyup();
                        $("#enableParentControl").prop("checked", (sch.enable == 1)).change();

                        var rules = sch.rules;
                        for (var i = 0; i < 2; i++) {
                            var num = i+1;
                            $("#enableRule"+num).prop("checked", (rules[i].enable == 1 && sch.enable == 1)).change();

                            rules[i].week.forEach(function(v, j) {
                                if (v == 1) {
                                    $("#week"+num+j).addClass("selected");
                                }
                            });

                            $("#startHour"+num).val(rules[i].sh).change();
                            $("#startMin"+num).val(rules[i].sm).change();
                            $("#endHour"+num).val(rules[i].eh).change();
                            $("#endMin"+num).val(rules[i].em).change();
                        }
                    } else {
                        locationUrl(data.error);
                    }
                }
            });
        }
    });
</script>
